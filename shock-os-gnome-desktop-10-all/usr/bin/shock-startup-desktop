#!/bin/bash

if [[ -f ~/.config/shock/first-run-indicator ]]
then

    gsettings set org.gnome.desktop.interface gtk-theme "Yaru-purple"

    gsettings set org.gnome.desktop.interface icon-theme "Yaru-purple"

    gsettings set org.gnome.shell.extensions.user-theme name "Yaru-purple"

    gnome-extensions enable user-theme@gnome-shell-extensions.gcampax.github.com

    gsettings set org.gnome.desktop.interface cursor-theme "Yaru"

    gsettings set org.gnome.mutter center-new-windows "true"

    gsettings set org.gnome.desktop.wm.preferences button-layout ":minimize,maximize,close"

    shock-gnome-layouts --defaults panel

    #THE DEFAULT FONT PATCH BEGINS

    gsettings set org.gnome.desktop.interface font-name "Ubuntu 11"

    gsettings set org.gnome.desktop.interface document-font-name "Ubuntu 11"

    gsettings set org.gnome.desktop.interface monospace-font-name "Monospace 13"

    gsettings set org.gnome.desktop.wm.preferences titlebar-font "Ubuntu Bold 11"

    #THE DEFAULT FONT PATCH ENDS

    gsettings set org.gnome.shell.extensions.dash-to-dock running-indicator-dominant-color "true" #start setting defaults for Dock mode

    gsettings set org.gnome.shell.extensions.dash-to-dock running-indicator-style "DOTS"

    gsettings set org.gnome.shell.extensions.dash-to-dock isolate-workspaces "true"
        
    gsettings set org.gnome.nautilus.preferences show-delete-permanently "true"

    gsettings set org.gnome.desktop.background picture-uri-dark "'file:///usr/share/images/desktop-base/desktop-background.xml'"

    dconf reset /org/gnome/shell/extensions/hidetopbar/enable-intellihide #Using DConf because extension does not support GSettings, resets the Hide Top Bar extension to defaults now that the initial setup has been completed

    #THE FLATPAK GTK THEMING PATCH BEGINS

    flatpak override --user --filesystem="~/.themes:ro"

    flatpak override --user --filesystem="~/.icons:ro"

    flatpak override --user --filesystem="~/.shock/themes:ro"

    flatpak override --user --filesystem="~/.shock/icons:ro"

    flatpak override --user --filesystem="xdg-data/themes:ro"

    flatpak override --user --filesystem="~/.config/gtk-4.0:ro"

    flatpak override --user --env=GTK_THEME="Yaru-purple"

    #THE FLATPAK GTK THEMING PATCH ENDS

    rm ~/.config/shock/first-run-indicator

else #NON-FIRST-RUN-SETUP-COMMANDS GO HERE

    OTHER NON-FIRST-RUN-SETUP COMMANDS GO HERE

fi

    




