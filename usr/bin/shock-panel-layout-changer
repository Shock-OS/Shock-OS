#!/bin/bash

if [[ "$(cat ~/.config/shock-panel)" == "Traditional|" ]]
then

    panel_layouts='Modern!^Traditional'

else

    panel_layouts='Modern!Traditional'

fi

output=$(yad --picture --window-icon=mate-panel --title="Panel Layouts" --text="Please choose a panel layout." --form --field="Panel Layout:":CB "$panel_layouts" --button="Apply")

ex=$?

if [[ "$ex" != "0" ]]
then

    exit

fi

cf=$(dconf read /org/mate/panel/objects/clockapplet/prefs/format)

if [[ "$output" == "Modern|" ]]
then

    mate-panel --reset --layout=default

elif [[ "$output" == "Traditional|" ]]
then

    mate-panel --reset --layout=fedora

fi

echo "$output" | tee ~/.config/shock-panel

sleep 5

dconf write /org/mate/panel/objects/clockapplet/prefs/format "$cf"
